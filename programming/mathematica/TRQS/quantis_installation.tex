\pdfoutput=1
% v. 0.01 - 15/02/2011 - Jarek - instalation instructions written during tests on tesla
% v. 0.02 - 23/03/2011 - Jarek - minor improvements
% v. 0.03 - 23/04/2012 - Jarek - style and layout improvements

\documentclass[a4paper,11pt]{article}

\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{listings}
\usepackage{dsfont} % some math symbols
\usepackage{courier} % ttfamily
\usepackage[utf8]{inputenc}

\renewcommand{\familydefault}{\sfdefault}
\newcommand{\eg}{\textsl{e.g}}

\title{Installation of Quantis drivers and libraries}
\author{Jaros{\l}aw A. Miszczak\\
Institute of Theoretical and Applied Informatics, Polish Academy of Sciences\\
Baltycka 5, 44-100 Gliwice, Poland}
\date{25/04/2012 (v.0.03)}

\begin{document}

\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Device drivers}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\textbf{\underline{Note}}: In the following instructions
\texttt{Quantis-v11.01.12} should be replaced by the appropriate directory
depending on the software package you are using.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{PCI and PCI-express version}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{enumerate}
    \item Install module-assistant package\\ \texttt{apt-get install
    module-assistant} 
    \item Prepare your system for module compilation\\ \texttt{m-a prepare}
    \item Unpack the Quantis software package and go to\\
    \texttt{Quantis-v11.01.12/Drivers/Unix/QuantisPci}.
    \item Compile the module\\ \texttt{make}
    \item Install the module\\ \texttt{make install}\\ and check if the module was
    installed properly\\ \texttt{find /lib/modules/ -name quantis\_pci.ko}
    \item Make sure that the drive will be loaded during the next book \\ \texttt{echo "quantis\_pci" >> /etc/modules}
    \item Follow instructions in Section~\ref{sec:permissions}.
\end{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{USB version}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{enumerate}
    \item Install \texttt{libusb} and \texttt{libusb-dev} packages\\ 
    \texttt{apt-get install libusb-1.0-0 libusb-1.0-0-dev}
    \item Check your device with \texttt{lsusb}\\
    \texttt{lsusb -d 0aba:0102 -v} or \texttt{lsusb -v | grep Quantis}
    \item Follow instructions in Section~\ref{sec:permissions}.
\end{enumerate}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Device permissions}\label{sec:permissions}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{enumerate}
    \item Make sure that the \texttt{plugdev} group exists\\
    \texttt{cat /etc/group | grep plugdev}
    \item Add user to the \texttt{plugdev} group\\
    \texttt{usermod -G plugdev -a LOGIN},\\ where \texttt{LOGIN} is the login name of the user
    \item Copy file \texttt{Quantis-v11.01.12/Drivers/Unix/idq-quantis.rules},\\ to \texttt{/etc/udev/rules.d/} directory and reload the UDEV rules\\
    \texttt{udevadm control --reload-rules}
\end{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Libraries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{enumerate}
    \item Unpack distribution files from
   \texttt{Quantis-v11.01.12/Packages/Linux} to a selected directory, \eg\
   \texttt{/usr/local/IDQ/Quantis}\\ \texttt{mkdir /usr/local/IDQ}\\ \texttt{tar
   xjvf QuantisRNG-2.5.0-Linux-amd64.tar.bz2}\\ \texttt{mv
   QuantisRNG-2.5.0-Linux-amd64 /usr/local/IDQ/Quantis}\\
    After this step the \texttt{EasyQuantis} applicaiton shoul be in\\ \texttt{/usr/local/IDQ/Quantis/bin/EasyQuantis}
    \item Copy {Quantis.h} and {DllMain.h} from\\
   \texttt{Quantis-v11.01.12/Libs-Apps/Quantis}\\ to\\
   \texttt{/usr/local/IQD/Quantis/include}
    \item Add \texttt{/usr/local/IDQ/Quantis/lib} (or
    \texttt{/usr/local/IDQ/Quantis/lib64}) to \\ \texttt{/etc/ld.so.config} or some
    file which in included by this file \eg\ \\
    \texttt{/etc/ld.so.conf.d/quantis.conf}
    \item Update the loader cache\\
    \texttt{ldconfig}
\end{enumerate}

\end{document}
